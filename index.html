<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/alpinejs" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./alpine.js"></script>
    <title>Alpine</title>
</head>
<body>
    
    <div x-data="{modal : false}" class="menu">
        <div class="space-y-2" x-show="!modal" @click="modal = true">
            <div class="w-8 h-0.5 bg-gray-600"></div>
            <div class="w-8 h-0.5 bg-gray-600"></div>
            <div class="w-8 h-0.5 bg-gray-600"></div>
        </div>
        <ol @click.outside="modal = false" x-cloak x-show="modal" :class="modal ? style : '' ">
            <li @click="modal = false" >X</li>
            <li>test1</li>
            <li>test2</li>
            <li>test3</li>
            <li>test4</li>
        </ol>
    </div>
    <div x-data="{
        counter: 0,
        filter: '',
        category : ['livingroom', 'diningroom', 'bedroom'],
        get filterCategory() {
            return this.category.filter((item) => {
                return item.includes(this.filter)
            })
        }
    }"> 
    <input x-model="filter" placeholder="Search..."/>
    <div x-data="{wishlist: false}">
        <h2 @click="wishlist = !wishlist">Wishlist</h2>
        <template x-for="wishlistItem in $store.data.wishlist">
            <div>
                <p x-text="wishlistItem.title"></p>
            </div>
        </template>
    </div>
    <div x-data="{basket: false}">
        <h2 @click="basket = !basket">Basket</h2>
        <p x-text="$store.data.basketTotal" x-show="$store.data.basketTotal === 0 ? false : true"></p>
        <template  x-for="basketItem in $store.data.basketDuplicates">
            <div x-show="basket">
                <img x-bind:src="`./src/images/${basketItem.img}`" alt="product">
                <p x-text="basketItem.title"></p>
                <p x-text="basketItem[basketItem.title]"></p>
            </div>
        </template>
    </div>
    <template x-for="product in $store.data.products">
        <div>
            <img x-bind:src="`./src/images/${product.img}`" alt="product">
            <h2 x-text="product.title"></h2>
            <p x-text="product.description"></p>
            <p><span x-text="product.price"></span>â‚¬</p>
            <button @click="$store.data.addToWishlist(product)">add to Wishlist</button>
            <button @click="$store.data.addToBasket(product)">add to Basket</button>
            <button @click="$store.data.removeFromBasket(product)">remove from Basket</button>
    </div>
    </template>
    </div>
</body>
</html>