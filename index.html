<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/alpinejs" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./alpine.js"></script>
    <link rel="stylesheet" href="style.css">
    <title>Alpine</title>
</head>
<body class="uppercase text-gray-900">
    
    <!-- <div x-data="{modal : false}" class="menu">
        <div class="space-y-2" x-show="!modal" @click="modal = true">
            <div class="w-8 h-0.5 bg-gray-600"></div>
            <div class="w-8 h-0.5 bg-gray-600"></div>
            <div class="w-8 h-0.5 bg-gray-600"></div>
        </div>
        <ol @click.outside="modal = false" x-cloak x-show="modal" :class="modal ? style : '' ">
            <li @click="modal = false" >X</li>
            <li>test1</li>
            <li>test2</li>
            <li>test3</li>
            <li>test4</li>
        </ol>
    </div> -->
    <div x-data=""> 
        <header class="font-bold flex justify-between p-10" style="letter-spacing: .1em;">
            <div class="flex gap-2 ">
                <button class="tracking-widest">DE</button>
                <button class="opacity-50 tracking-widest">EN</button>
            </div>
            <a class="text-4xl" style="letter-spacing: .2em;">V.SUN</a>
            <!-- wishlist / basket -->
            <div class="flex gap-2">
                <div x-data="{wishlist: false}">
                    <button @click="wishlist = !wishlist">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                        </svg>              
                    </button>
                    <template x-for="wishlistItem in $store.data.wishlist">
                        <div>
                            <p x-text="wishlistItem.title"></p>
                        </div>
                    </template>
                </div>
                <div x-data="{basket: false}">
                    <div class="relative w-6 h-6">
                        <button class="absolute" class="icon--root icon--bag" @click="basket = !basket">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                            </svg>
                        </button>
                        <p class="absolute inset-1 m-auto text-center text-xs top-1/4 opacity-50" x-text="$store.data.basketTotal" x-show="$store.data.basketTotal === 0 ? false : true"></p>
                    </div>
                    <template  x-for="basketItem in $store.data.basketDuplicates">
                        <div x-show="basket">
                            <img x-bind:src="`./src/images/${basketItem.img}`" alt="product">
                            <p x-text="basketItem.title"></p>
                            <p x-text="basketItem[basketItem.title]"></p>
                            <p><span x-text="basketItem.price * basketItem[basketItem.title]"></span>€</p>
                        </div>
                    </template>
                </div>
            </div>
            <!--/ wishlist / basket -->
    </header>
    <nav class="font-bold text-xl flex gap-6 justify-center mx-auto tracking-widest">
        <a class="border-b-2 border-gray-900">SHOP</a>
        <a>ABOUT</a>
        <a>STORES</a>
        <a>#VSUN</a>
    </nav>
    <template x-for="product in $store.data.products">
        <div>
            <img x-bind:src="`./src/images/${product.img}`" alt="product">
            <span></span>
            <h2 class="font-bold" x-text="product.title"></h2>
            <p><span class="font-bold" x-text="product.price"></span>€</p>
            <p x-text="`BODY ${product.unit}ML (${$store.data.pricePerUnit(product)}€/100ML) `"></p>
            <button @click="$store.data.addToWishlist(product)">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                </svg>                  
            </button>
            <button @click="$store.data.addToBasket(product)">IN DEN WARENKORB</button>
    </div>
    </template>
</body>
</html>